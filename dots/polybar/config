;=====================================================
;
; Polybar config v1.0
; by s1amber(Adrian Karbowniczyn)
;
; For more info visit: https://github.com/jaagr/polybar/
;
;=====================================================

[colors]
dpi = 195
# tommorow night
background = #1d1f21 
Current = #282a2e
background-alt = #373b41 
foreground = #c5c8c6 
foreground-alt = #969896 
Comment = #969896 
Red = #cc6666 
Orange = #de935f 
Yellow = #f0c674 
Green = #b5dd68 
Aqua = #8abeb7 
Blue = #81a2be 
Purple = #b294bb 

[bar/0i0]
monitor = ${env:MONITOR:}
monitor-fallback = eDP1
width = 100%
height = 34
;offset-x = 200
;offset-y = 50
fixed-center = true
background = ${colors.background}
foreground = ${colors.foreground}

line-size = 5

border-size = 0

padding-left = 0 
padding-right = 2

module-margin-left = 0
module-margin-right = 2

font-0 = Iosevka Nerd Font:size=12
font-1 = Iosevka Nerd Font:size=12:bold
font-2 = FontAwesome:size=14

modules-left = i3 player-mpris-tail 
modules-center = date 
modules-right = info-hackspeed audio battery brightness updates-arch-combined wireless-network 

wm-restack = i3

;scroll-up = i3wm-wsnext
;scroll-down = i3wm-wsprev

tray-position = right
tray-padding = 2
tray-detached = false
tray-maxsize = 16
tray-background = ${colors.background-alt}
tray-offset-x = 0
tray-offset-y = 0
tray-scale = 1.0
[module/i3]
type = internal/i3

pin-workspaces = false

;strip-wsnumbers = true

index-sort = true

enable-click = true

enable-scroll = false 

wrapping-scroll = true 

fuzzy-match = true

ws-icon-0 = 0;
ws-icon-1 = 1;1
ws-icon-2 = 2;2
ws-icon-3 = 3;3
ws-icon-4 = 4;4
ws-icon-5 = 5;5
ws-icon-6 = 6;6
ws-icon-7 = 7;7
ws-icon-8 = 8;8

format = <label-state> <label-mode>

label-active-font = 2

label-mode = %mode%
label-mode-padding = 2
label-mode-background = #407055

label-focused = %icon% 
label-focused-foreground = #F3E5DA
label-focused-background = #3f3f3f
label-focused-underline = ${colors.Yellow}
label-focused-padding = 2

label-unfocused = %icon%
label-unfocused-padding = 2

label-visible = %icon%
label-visible-underline = #555555
label-visible-padding = 2

label-urgent = %icon%
label-urgent-foreground = #B7A439
label-urgent-background =  ${colors.Red}
label-urgent-padding = 2

[module/date]
type = internal/date
interval = 5

date = "%m/%d/%Y"
time = %I:%M %p

format-underline = ${colors.Red}

label = %date% %time%


[module/audio]
type = internal/pulseaudio
interval = 5

format-volume = <ramp-volume> <label-volume>
label-muted = ﱝ muted
format-volume-underline = ${colors.Blue}
format-muted-underline = ${colors.Blue}
ramp-volume-0 = 奄
ramp-volume-1 = 奔 
ramp-volume-2 = 墳

[module/wireless-network]
type = internal/network
interface = ${env:DEFAULT_NETWORK_INTERFACE:wlp2s0}
interval = 3.0
format-connected-underline = ${colors.Orange}
format-disconnected-underline = ${colors.Orange}
label-connected =  %{A:networkmanager_dmenu&:} %essid%%{A}
format-connected = <label-connected>
label-disconnected = %{A:networkmanager_dmenu&:}not connected%{A}

[module/updates-arch-combined]
type = custom/script
exec = ~/.config/pscripts/updates-arch-combined.sh
interval = 200

format =  <label> Updates 
format-underline = ${colors.Red}

[module/spotify]
type = custom/script
exec = ~/.config/pscripts/player-mpris-simple.sh
interval = 1 
format-foreground = ${colors.Aqua}

[module/player-mpris-tail]
type = custom/script
exec = ~/.config/pscripts/player-mpris-tail.py -f '{icon} {:artist:t18:{artist}:}{:artist: - :}{:t20:{title}:}  %{A1:~/.config/pscripts/player-mpris-tail.py previous:} ⏮ %{A} %{A1:~/polybar-scripts/player-mpris-tail.py play-pause:} {icon-reversed} %{A} %{A1:~/polybar-scripts/player-mpris-tail.py next:} ⏭ %{A}'
tail = true
label = %output%
format-foreground = ${colors.Green}

[module/battery]
type = internal/battery

full-at = 99

battery = BAT0
adapter = AC

poll-interval = 5

format-charging = <animation-charging> <label-charging>
format-discharging = <ramp-capacity> <label-discharging>
format-full = <ramp-capacity> <label-full>
label-charging = %percentage%%
label-discharging = %percentage%%
label-full = %percentage%%
format-charging-underline = ${colors.Green} 
format-charging-padding = 1
format-discharging-underline = #ffa800
format-discharging-padding = 1
format-full-underline = ${self.format-charging-underline}

ramp-capacity-0 = 
ramp-capacity-1 =  
ramp-capacity-2 = 
ramp-capacity-3 = 
ramp-capacity-4 = 

animation-charging-0 = 
animation-charging-1 = 
animation-charging-2 = 
animation-charging-3 = 
animation-charging-4 = 
animation-charging-framerate = 750 

[module/brightness]
type = internal/xbacklight

; XRandR output to get get values from
; Default: the monitor defined for the running bar
format = 盛 <label>

; Available tokens:
;   %percentage% (default)
label = %percentage%%
format-underline = ${colors.Yellow}
interval = 5

[module/powermenu]
type = custom/menu

expand-right = true

format-spacing = 1

label-open = 
label-open-foreground = ${colors.Aqua}
label-close =  cancel
label-close-foreground = ${colors.Aqua}
label-separator = |
label-separator-foreground = ${colors.foreground-alt}

menu-0-0 = reboot
menu-0-0-exec = menu-open-1
menu-0-1 = power off
menu-0-1-exec = menu-open-2

menu-1-0 = cancel
menu-1-0-exec = menu-open-0
menu-1-1 = reboot
menu-1-1-exec = sudo reboot

menu-2-0 = power off
menu-2-0-exec = sudo poweroff
menu-2-1 = cancel
menu-2-1-exec = menu-open-0

[module/info-hackspeed]
type = custom/script
exec = ~/.config/pscripts/info-hackspeed.sh
format =  <label>
tail = true
format-underline = ${colors.Aqua}
[settings]
screenchange-reload = true

[global/wm]
margin-top = 0
margin-bottom = 0
